{"ast":null,"code":"var _jsxFileName = \"/Users/komiyaakira/Desktop/todoapp/src/components/LikeButton.js\";\nimport React from \"react\";\nimport classes from './App.module.css';\n\nclass LikeButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.state = {\n      hovered: false,\n      count: 0,\n      //カウント数の状態を追加\n      liked: false //押下の判定\n\n    };\n  }\n\n  styles() {\n    return {\n      container: {\n        fontFamily: \"helvetica, arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif\",\n        fontSize: 11\n      },\n      like: {\n        display: \"inline-block\",\n        padding: \"0px 5px\",\n        borderRadius: 2,\n        color: \"#ffffff\",\n        cursor: \"pointer\",\n        float: \"left\",\n        height: 20,\n        lineHeight: \"20px\"\n      },\n      likeHover: {\n        background: \"#444\"\n      },\n      counterBefore: {\n        display: \"block\",\n        float: \"left\",\n        width: 6,\n        height: 6,\n        background: \"#fafafa\",\n        marginLeft: \"-12px\",\n        borderRight: 10,\n        transform: \"rotate(45deg)\",\n        WebkitTransform: \"rotate(45deg)\",\n        marginTop: 6,\n        borderLeft: \"1px solid #aaa\",\n        borderBottom: \"1px solid #aaa\"\n      },\n      counter: {\n        display: \"block\",\n        background: \"#fafafa\",\n        boxSizing: \"border-box\",\n        border: \"1px solid #aaa\",\n        float: \"left\",\n        padding: \"0px 8px\",\n        marginLeft: 8,\n        height: 20,\n        lineHeight: \"20px\"\n      }\n    };\n  }\n\n  onMouseEnter() {\n    const todo_id = this.props.todo_id;\n    const userList = this.props.users.map(user => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, this.props.likes.filter(function (value) {\n      return user.id === value.user_id && todo_id === value.todo_id;\n    }).length)));\n\n    if (this.setState({\n      hovered: true\n    })) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }\n      }, \"\\u62CD\\u624B\\u4E00\\u89A7\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }\n      }, userList));\n    }\n\n    ;\n  }\n\n  onMouseLeave() {\n    this.setState({\n      hovered: false\n    });\n  }\n\n  onClick() {\n    this.props.onLkeButtonClick(this.props.curUser_id, this.props.todo_id);\n    const todo_id = this.props.todo_id;\n    var data = this.props.likes;\n    var result = data.filter(function (value) {\n      return todo_id === value.todo_id;\n    });\n    this.setState({\n      count: result.length,\n      liked: !this.state.liked\n    });\n  }\n\n  render() {\n    const todo_id = this.props.todo_id;\n    const userList = this.props.users.map(user => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, this.props.likes.filter(function (value) {\n      return user.id === value.user_id && todo_id === value.todo_id;\n    }).length)));\n    const styles = this.styles();\n    const likeStyle = this.state.hovered ? { ...styles.like,\n      ...styles.likeHover\n    } : styles.like;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: styles.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.balloonoya,\n      style: likeStyle,\n      onMouseEnter: this.onMouseEnter.bind(this),\n      onMouseLeave: this.onMouseLeave.bind(this),\n      onClick: this.onClick.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/\\u62CD\\u624B.png\",\n      width: \"20\",\n      height: \"20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 47\n      }\n    }), this.state.liked ? \"\" : \"\", /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.balloon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, \"\\u62CD\\u624B\\u4E00\\u89A7\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, userList))), /*#__PURE__*/React.createElement(\"span\", {\n      style: styles.counter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: styles.counterBefore,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, ''), this.props.likes.filter(function (value) {\n      return todo_id === value.todo_id;\n    }).length)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 16\n      }\n    }));\n  }\n\n}\n\nexport default LikeButton;","map":{"version":3,"sources":["/Users/komiyaakira/Desktop/todoapp/src/components/LikeButton.js"],"names":["React","classes","LikeButton","Component","constructor","props","onMouseEnter","bind","onMouseLeave","onClick","state","hovered","count","liked","styles","container","fontFamily","fontSize","like","display","padding","borderRadius","color","cursor","float","height","lineHeight","likeHover","background","counterBefore","width","marginLeft","borderRight","transform","WebkitTransform","marginTop","borderLeft","borderBottom","counter","boxSizing","border","todo_id","userList","users","map","user","name","likes","filter","value","id","user_id","length","setState","onLkeButtonClick","curUser_id","data","result","render","likeStyle","balloonoya","balloon"],"mappings":"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","sourcesContent":["\nimport React from \"react\"\nimport classes from './App.module.css'\nclass LikeButton extends React.Component {\n    constructor(props){\n        super(props);\n        this.onMouseEnter = this.onMouseEnter.bind(this);\n        this.onMouseLeave = this.onMouseLeave.bind(this);\n        this.onClick = this.onClick.bind(this);\n        this.state = {\n            hovered: false,\n            count: 0, //カウント数の状態を追加\n            liked: false //押下の判定\n    }\n\n  }\n      styles(){\n        return {\n            container: {\n                fontFamily: \"helvetica, arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif\",\n                fontSize: 11\n              },\n              like: {\n                        display: \"inline-block\",\n                padding: \"0px 5px\",\n                borderRadius:2,\n                color: \"#ffffff\",\n                cursor: \"pointer\",\n                float: \"left\",\n                height:20,\n                lineHeight: \"20px\"\n              },\n              likeHover: {\n                background: \"#444\"\n              },\n              counterBefore: {\n                        display: \"block\",\n                float: \"left\",\n                width: 6,\n                height: 6,\n                background: \"#fafafa\",\n                marginLeft: \"-12px\",\n                borderRight: 10,\n                transform: \"rotate(45deg)\",\n                WebkitTransform: \"rotate(45deg)\",\n                marginTop: 6,\n                borderLeft: \"1px solid #aaa\",\n                borderBottom: \"1px solid #aaa\"\n              },\n              counter: {\n                        display: \"block\",\n                background: \"#fafafa\",\n                boxSizing: \"border-box\",\n                border: \"1px solid #aaa\",\n                float: \"left\",\n                padding: \"0px 8px\",\n                marginLeft: 8,\n                height: 20,\n                lineHeight: \"20px\"\n              }\n            };\n          }\n  onMouseEnter(){\n    const todo_id = this.props.todo_id\n    const userList = this.props.users.map((user) =>\n        <div>\n              <span>{user.name}</span>\n              <span>{ this.props.likes.filter(function(value) {\n                    return (user.id === value.user_id && todo_id === value.todo_id);\n                }).length}</span>\n        </div>\n        );\n        if (this.setState({hovered:true})){\n        return <div> \n              <p>拍手一覧</p>\n              <div>\n                {userList}\n              </div>\n            </div>};\n        }\n  onMouseLeave(){\n      this.setState({hovered:false});\n  }\n  onClick(){\n      this.props.onLkeButtonClick(this.props.curUser_id,this.props.todo_id)\n      const todo_id = this.props.todo_id\n      var data = this.props.likes;\n            var result = data.filter(function(value) {\n            return (todo_id === value.todo_id);\n        });\n      this.setState({\n      count: result.length,\n      liked: !this.state.liked\n    })\n  }\n      render(){\n        const todo_id = this.props.todo_id\n        const userList = this.props.users.map((user) =>\n        <div>\n              <span>{user.name}</span>\n              <span>{ this.props.likes.filter(function(value) {\n                    return (user.id === value.user_id && todo_id === value.todo_id);\n                }).length}</span>\n        </div>\n        );\n        const styles = this.styles();\n        const likeStyle = this.state.hovered ? {...styles.like,...styles.likeHover} : styles.like;\n        return (\n          <>\n          <span style={styles.container}>\n          \n          <div className={classes.balloonoya}　style={likeStyle}\n            onMouseEnter={this.onMouseEnter.bind(this)}\n            onMouseLeave={this.onMouseLeave.bind(this)} \n            onClick={this.onClick.bind(this)}><img src=\"images/拍手.png\"　width=\"20\" height=\"20\" />{this.state.liked ? \"\" :\"\"} \n            <span　className={classes.balloon}>\n            <p>拍手一覧</p>\n            <div>\n            {userList}\n            </div>\n            </span>\n          </div>\n          <span style={styles.counter}>\n            <span style={styles.counterBefore}>{''}</span>\n            { this.props.likes.filter(function(value) {\n            return (todo_id === value.todo_id);\n            }).length}\n          </span>\n        </span><br></br>\n        \n        </>\n    )\n  }\n}\nexport default LikeButton;"]},"metadata":{},"sourceType":"module"}